<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <title>Category: GIS | GIS小站</title>
  
  <meta name="keywords" content="GIS,Code">
  
  

  

  <meta name="HandheldFriendly" content="True">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <!-- meta -->
  
  
  <meta name="theme-color" content="#FFFFFF">
  <meta name="msapplication-TileColor" content="#1BC3FB">
  <meta name="msapplication-config" content="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/browserconfig.xml">
  

  <!-- link -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.css">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.6.3/css/all.min.css">
  
  
  <link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicon.ico">
  <link rel="icon" type="image/x-icon" sizes="32x32" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/favicon-32x32.png">
  <link rel="apple-touch-icon" type="image/png" sizes="180x180" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/apple-touch-icon.png">
  <link rel="mask-icon" color="#1BC3FB" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/safari-pinned-tab.svg">
  <link rel="manifest" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicons/site.webmanifest">
  

  
  <link rel="shortcut icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/xaoxuu/assets@master/favicon/favicon.ico">
  

  
  <link rel="stylesheet" href="/style.css">
  

  <script>
    function setLoadingBarProgress(num) {
      document.getElementById('loading-bar').style.width=num+"%";
    }
  </script>

  
  
</head>


<body>
    <div id="loading-bar-wrapper">
  <div id="loading-bar" class="material"></div>
</div>

    <script>setLoadingBarProgress(20)</script>
    <header class="l_header material">
	<div class="wrapper">
		<div class="nav-main container container--flex">
      <a class="logo flat-box" href="/">
        
          GIS小站
        
      </a>
			<div class="menu">
				<ul class="h-list">
          
  					
  						<li>
								<a id="https:llqing.github.io" class="nav flat-box" href="https://llqing.github.io/">
									<i class="fas fa-home fa-fw"></i>&nbsp;主页
								</a>
							</li>
      			
  						<li>
								<a id="home" class="nav flat-box" href="/">
									<i class="fas fa-rss fa-fw"></i>&nbsp;博客
								</a>
							</li>
      			
  						<li>
								<a id="archives" class="nav flat-box" href="/archives/">
									<i class="fas fa-archive fa-fw"></i>&nbsp;归档
								</a>
							</li>
      			
  						<li>
								<a id="friends" class="nav flat-box" href="/friends/">
									<i class="fas fa-users fa-fw"></i>&nbsp;朋友
								</a>
							</li>
      			
  						<li>
								<a id="about" class="nav flat-box" href="/about/">
									<i class="fas fa-address-card fa-fw"></i>&nbsp;关于
								</a>
							</li>
      			
      		
				</ul>
			</div>

			
				<div class="m_search">
					<form name="searchform" class="form u-search-form">
						<input type="text" class="input u-search-input" placeholder="搜索">
						<span class="icon"><i class="fas fa-search fa-fw"></i></span>
					</form>
				</div>
			
			<ul class="switcher h-list">
				
					<li class="s-search"><a class="fas fa-search fa-fw" href="javascript:void(0)"></a></li>
				
				<li class="s-menu"><a class="fas fa-bars fa-fw" href="javascript:void(0)"></a></li>
			</ul>
		</div>

		<div class="nav-sub container container--flex">
			<a class="logo flat-box"></a>
			<ul class="switcher h-list">
				<li class="s-comment"><a class="flat-btn fas fa-comments fa-fw" href="javascript:void(0)"></a></li>
				<li class="s-toc"><a class="flat-btn fas fa-list fa-fw" href="javascript:void(0)"></a></li>
			</ul>
		</div>
	</div>
</header>
	<aside class="menu-phone">
    <header>
		<nav class="menu">
      <ul>
          
              
                  <li>
										<a id="https:llqing.github.io" class="nav flat-box" href="https://llqing.github.io/">
											<i class="fas fa-home fa-fw"></i>&nbsp;主页
										</a>
                  </li>
              
                  <li>
										<a id="home" class="nav flat-box" href="/">
											<i class="fas fa-rss fa-fw"></i>&nbsp;博客
										</a>
                  </li>
              
                  <li>
										<a id="archives" class="nav flat-box" href="/archives/">
											<i class="fas fa-archive fa-fw"></i>&nbsp;归档
										</a>
                  </li>
              
                  <li>
										<a id="friends" class="nav flat-box" href="/friends/">
											<i class="fas fa-users fa-fw"></i>&nbsp;朋友
										</a>
                  </li>
              
                  <li>
										<a id="about" class="nav flat-box" href="/about/">
											<i class="fas fa-address-card fa-fw"></i>&nbsp;关于
										</a>
                  </li>
              
       
      </ul>
		</nav>
    </header>
	</aside>

    <script>setLoadingBarProgress(40);</script>
    <div class="l_body">
    <div class='container clearfix'>
        <div class='l_main'>
            
    <script>
        window.subData= { title:'分类 : GIS'}
    </script>




  <section class="post-list">
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      



      

      

      
        
          
            <div class="post-wrapper">
              <article class="post reveal ">
  
<section class="meta">
  
  
  <div class="meta" id="header-meta">
    
      <h2 class="title">
          <a href="/2019/04/13/ArcGIS-API-for-JavaScript入门教程-3-你看得到：数据与视图分离/">
              
                  ArcGIS API for JavaScript 入门教程(3)-你看得到：数据与视图分离
              
          </a>
      </h2>
    

    <div class="new-meta-box">
      
        <div class="new-meta-item author">
          <a href="https://llqing.github.io">
            <i class="fas fa-user" aria-hidden="true"></i>
            LLQ
          </a>
        </div>
      
      
        <div class="new-meta-item date">
          <a class="notlink">
            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
            2019-04-13
          </a>
        </div>
      
      
        
          
          <div class="new-meta-item category">
            <a href="/categories/GIS/">
              <i class="fas fa-folder-open" aria-hidden="true"></i>
              GIS
            </a>
          </div>
        
      
      
      
    </div>
    <hr>
  </div>
</section>

  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      <blockquote>
<p>这篇开始正式讲API。</p>
<p>数据和视图分离不是什么奇怪的事情了，这是一个著名的设计——数据与视图分开。</p>
</blockquote>
<p>请跟我做，把以下折叠的代码复制到新建的html文件中，并双击打开。</p>
<p><a href="javascript:void(0" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>;)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1,maximum-scale=1,user-scalable=no&quot;&gt;</span><br><span class="line">  &lt;title&gt;Intro to MapView - Create a 2D map - 4.7&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    html,</span><br><span class="line">    body,</span><br><span class="line">    #viewDiv &#123;</span><br><span class="line">      padding: 0; margin: 0;</span><br><span class="line">      height: 100%; width: 100%;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line"></span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;https://js.arcgis.com/4.7/esri/css/main.css&quot;&gt;</span><br><span class="line">  &lt;script src=&quot;https://js.arcgis.com/4.7/&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    require([</span><br><span class="line">      &quot;esri/Map&quot;,&quot;esri/views/MapView&quot;,&quot;dojo/domReady!&quot;</span><br><span class="line">    ], function(Map, MapView) &#123;</span><br><span class="line"></span><br><span class="line">      var map = new Map(&#123;</span><br><span class="line">        basemap: &quot;streets&quot;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      var view = new MapView(&#123;</span><br><span class="line">        container: &quot;viewDiv&quot;,</span><br><span class="line">        map: map,</span><br><span class="line">        zoom: 4,</span><br><span class="line">        center: [15, 65] // longitude, latitude</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;viewDiv&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><a href="javascript:void(0" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>;)</p>
<p>大概是这样：</p>
<p><img src="https://images2018.cnblogs.com/blog/1097074/201805/1097074-20180523235618331-1247825520.png" alt="img"></p>
<p>打开后是这样的：</p>
<p>（环境说明：Chrome 65浏览器）</p>
<p><img src="https://images2018.cnblogs.com/blog/1097074/201805/1097074-20180523235659575-1878304213.png" alt="img"></p>
<p>那我们再复制另一个代码：</p>
<p><a href="javascript:void(0" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>;)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;utf-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;initial-scale=1,maximum-scale=1,user-scalable=no&quot;&gt;</span><br><span class="line">  &lt;title&gt;Intro to SceneView - Create a 3D map - 4.7&lt;/title&gt;</span><br><span class="line">  &lt;style&gt;</span><br><span class="line">    html,</span><br><span class="line">    body,</span><br><span class="line">    #viewDiv &#123;</span><br><span class="line">      padding: 0;</span><br><span class="line">      margin: 0;</span><br><span class="line">      height: 100%;</span><br><span class="line">      width: 100%;</span><br><span class="line">    &#125;</span><br><span class="line">  &lt;/style&gt;</span><br><span class="line"></span><br><span class="line">  &lt;link rel=&quot;stylesheet&quot; href=&quot;https://js.arcgis.com/4.7/esri/css/main.css&quot;&gt;</span><br><span class="line">  &lt;script src=&quot;https://js.arcgis.com/4.7/&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    require([</span><br><span class="line">      &quot;esri/Map&quot;,</span><br><span class="line">      &quot;esri/views/SceneView&quot;,</span><br><span class="line">      &quot;dojo/domReady!&quot;</span><br><span class="line">    ], function(Map, SceneView) &#123;</span><br><span class="line"></span><br><span class="line">      var map = new Map(&#123;</span><br><span class="line">        basemap: &quot;streets&quot;,</span><br><span class="line">        ground: &quot;world-elevation&quot;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      var view = new SceneView(&#123;</span><br><span class="line">        container: &quot;viewDiv&quot;,</span><br><span class="line">        map: map,</span><br><span class="line">        scale: 50000000,</span><br><span class="line">        center: [-101.17, 21.78]</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;viewDiv&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p><a href="javascript:void(0" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>;)</p>
<p>得到的结果是：</p>
<p><img src="https://images2018.cnblogs.com/blog/1097074/201805/1097074-20180523235927632-1266833964.png" alt="img"></p>
<h1 id="1-解释"><a href="#1-解释" class="headerlink" title="1. 解释"></a>1. 解释</h1><p>本着能不解释代码就不解释代码的精神，我先给大家讲一下我讲这个JsAPI的思路。</p>
<p>它分五个主要学习的部分：</p>
<ul>
<li>数据</li>
<li>视图</li>
<li>空间分析</li>
<li>符号渲染</li>
<li>小部件</li>
</ul>
<p>其他不说不代表不会用到，但是相对于入门而言，这五个部分足够了。其重点讲解前三部分。</p>
<p>如果看文字不舒服，那么上个结构图：</p>
<p><img src="https://images2018.cnblogs.com/blog/1097074/201805/1097074-20180524193502413-859382166.png" alt="img"></p>
<p>而上面两个案例，拿同一份数据结合二三维视图作了展示。</p>
<p>抛开代码细节（如入口、引用、页面组织、样式等）不谈，我首先把代码中用于表示“数据”和“视图”的Js代码抽取出来：</p>
<p><img src="https://images2018.cnblogs.com/blog/1097074/201805/1097074-20180524194308611-2083837347.png" alt="img"></p>
<p>左边是二维的，右边是三维的。</p>
<p>分别用两个对象来描述“数据”和“视图”，</p>
<p><strong>用Map类实例出来的【map对象】以描述数据；用MapView类、SceneView类实例出来的【view对象】以描述视图</strong>。</p>
<p>那么你可能会问了，倘若已经在代码里做出来了数据与视图，有什么桥梁可以连接它们呢？我们把view的代码展开。</p>
<p><img src="https://images2018.cnblogs.com/blog/1097074/201805/1097074-20180524194641686-280020319.png" alt="img"></p>
<p>我们知道，在Js中通过new关键字实例化一个类，SceneView类的构造函数指定了一个Js中的Object对象作为参数，这个Object对象是这样的：</p>
<p><a href="javascript:void(0" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>;)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    container: &quot;viewDiv&quot;,</span><br><span class="line">    map: map,</span><br><span class="line">    scale: 50000000,</span><br><span class="line">    center: [-101.17, 21.78]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a href="javascript:void(0" target="_blank" rel="noopener"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码"></a>;)</p>
<p>其中，就有一个Map类型的属性叫map，将上面实例化的map对象赋予给它就实现了视图（SceneView、MapView）与数据（Map）的连接。</p>
<p>其他的属性我们暂且不管，至少，在Js代码中，我们知道了哪些代码用于构造地理数据——用Map类、我们知道了哪些代码用于构造视图——View类。</p>
<blockquote>
<p>哦对了，SceneView和MapView都继承自View类。虽然我们知道Js是弱类型的语言，但是Dojo帮我们做了一些面向对象的工作。</p>
<p>在这里，我沿用更广泛的说法，那就是用“类”这个称呼去替代官方的“模块”这个称呼，其实MapView、Map、SceneView都是模块，它们存在于js包里面。</p>
</blockquote>
<h1 id="2-补充"><a href="#2-补充" class="headerlink" title="2. 补充"></a>2. 补充</h1><p>如果上面看得懂，这里可以作为补充材料来阅读。</p>
<h2 id="2-1-数据如何组织"><a href="#2-1-数据如何组织" class="headerlink" title="2.1 数据如何组织"></a>2.1 数据如何组织</h2><p>相信肯定有筒子开始疑问Map对象的构造参数中应该如何组织属性了吧，这个时候就需要去查示例代码和官方API参考了。</p>
<p>我可以简单说一说。先看一下这个类的继承关系图：</p>
<p><img src="https://images2018.cnblogs.com/blog/1097074/201805/1097074-20180524200353650-538894986.png" alt="img"></p>
<p>清晰看到Map类的位置。</p>
<p>有趣的是，Map有WebMap和WebScene两个子类，由于继承和多态的特征，说明视图中map属性也可以设为WebMap和WebScene。</p>
<p>这有什么区别呢？暂且不说后期展开。</p>
<p>再展开Map类的属性：</p>
<p><img src="https://images2018.cnblogs.com/blog/1097074/201805/1097074-20180524205007659-924807109.png" alt="img"></p>
<p>常用的有三个属性，底图、可操作图层集合、地形图层。</p>
<ol>
<li>basemap属性可使用预置的底图，也可以使用自定义的Basemap对象；</li>
<li><strong>[★]</strong>layers属性是<strong>可操作的Layer对象</strong>的集合，Layer类有很多子类，如几何图层、地图图层、要素图层等，这些到以后会讲，这些<strong>都是赤果果的数据组成啊</strong>！</li>
<li>ground属性表示地图高程，可以用预置的世界高程数据，也可以自定义高程图层，后期会讲。</li>
</ol>
<p>哦对了，对<strong>数据的在线简单编辑、绘制</strong>，也是由数据部分组织的，后面展开。</p>
<h2 id="2-2-视图有什么用"><a href="#2-2-视图有什么用" class="headerlink" title="2.2 视图有什么用"></a>2.2 视图有什么用</h2><p>视图是管理“看得到”的东西的。</p>
<p>其一，我们看得到的二三维地图、场景都是由它渲染的；</p>
<p>其二，我们需要对数据进行展示时，是由它进行弹窗（Popup）展示的；</p>
<p>这些业务和数据无关，任何一份数据都可以由视图进行前端渲染、数据展示，所以被抽取出来了，做到了高内聚低耦合、数据视图分离。</p>
<hr>
<p>好啦，到这里，“数据”与“视图”已经有了个大概的了解了，下一篇将开始讲解如何代码入门，可以学一下Dojo用于预习，尤其是Dojo的模块化。</p>

      
    </div>
    
      <div class="full-width auto-padding tags">
        
          <a href="/tags/ArcGIS/"><i class="fas fa-hashtag fa-fw"></i>ArcGIS</a>
        
          <a href="/tags/API/"><i class="fas fa-hashtag fa-fw"></i>API</a>
        
      </div>
    
  </section>
</article>

            </div>
          
        
          
            <div class="post-wrapper">
              <article class="post reveal ">
  
<section class="meta">
  
  
  <div class="meta" id="header-meta">
    
      <h2 class="title">
          <a href="/2019/04/09/ArcGIS-API-for-JavaScript入门教程-2-授人以渔/">
              
                  ArcGIS API for JavaScript 入门教程(2)-授人以渔
              
          </a>
      </h2>
    

    <div class="new-meta-box">
      
        <div class="new-meta-item author">
          <a href="https://llqing.github.io">
            <i class="fas fa-user" aria-hidden="true"></i>
            LLQ
          </a>
        </div>
      
      
        <div class="new-meta-item date">
          <a class="notlink">
            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
            2019-04-09
          </a>
        </div>
      
      
        
          
          <div class="new-meta-item category">
            <a href="/categories/GIS/">
              <i class="fas fa-folder-open" aria-hidden="true"></i>
              GIS
            </a>
          </div>
        
      
      
      
    </div>
    <hr>
  </div>
</section>

  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      <p>这篇仍然不讲怎么做，但是我要告诉你如何获取资源。</p>
<h1 id="1-官方在线帮助、示例代码及入门导航"><a href="#1-官方在线帮助、示例代码及入门导航" class="headerlink" title="1. 官方在线帮助、示例代码及入门导航"></a>1. 官方在线帮助、示例代码及入门导航</h1><p>JsAPI最新版首页：<a href="https://developers.arcgis.com/javascript/" target="_blank" rel="noopener">https://developers.arcgis.com/javascript/</a></p>
<p>JsAPI最新版在线帮助（模块查询）：<a href="https://developers.arcgis.com/javascript/latest/api-reference/index.html" target="_blank" rel="noopener">https://developers.arcgis.com/javascript/latest/api-reference/index.html</a></p>
<p>JsAPI最新版示例代码：<a href="https://developers.arcgis.com/javascript/latest/sample-code/index.html" target="_blank" rel="noopener">https://developers.arcgis.com/javascript/latest/sample-code/index.html</a></p>
<p>JsAPI最新版入门导航：<a href="https://developers.arcgis.com/javascript/latest/guide/index.html" target="_blank" rel="noopener">https://developers.arcgis.com/javascript/latest/guide/index.html</a></p>
<h1 id="2-ArcGIS-Runtime-SDKs家族"><a href="#2-ArcGIS-Runtime-SDKs家族" class="headerlink" title="2. ArcGIS Runtime SDKs家族"></a>2. ArcGIS Runtime SDKs家族</h1><p>地址：<a href="https://developers.arcgis.com/" target="_blank" rel="noopener">https://developer.arcgis.com</a></p>
<p>文档：<a href="https://developers.arcgis.com/documentation/" target="_blank" rel="noopener">https://developers.arcgis.com/documentation/</a></p>
<p>Github地址：<a href="http://esri.github.io/" target="_blank" rel="noopener">http://esri.github.io/</a></p>
<p>文档处也有很多好东西，有机会也要做翻译。</p>
<h1 id="3-获取API和SDK"><a href="#3-获取API和SDK" class="headerlink" title="3. 获取API和SDK"></a>3. 获取API和SDK</h1><p>Runtime SDK家族API和SDK和文档：<a href="https://developers.arcgis.com/downloads/apis-and-sdks" target="_blank" rel="noopener">https://developers.arcgis.com/downloads/apis-and-sdks</a></p>
<h1 id="4-善用搜索引擎"><a href="#4-善用搜索引擎" class="headerlink" title="4. 善用搜索引擎"></a>4. 善用搜索引擎</h1><p>如果百度/必应不到，请用谷歌，总有你需要的。</p>
<p>——————————————————————————</p>
<p>最后说个事，教程和笔记</p>
<p>好多人混淆了教程和笔记。教程是力求别人能看懂，尽可能抓重点和抓主干讲，无关痛痒的不要讲太多。所以，此入门教程，我打算10来篇博客讲完，细致的可以自己慢慢学的，毕竟更新如此之快，我自己也在不断学习。</p>
<p>而笔记，自己看得懂就行了，好多人挂着教程写的笔记哦…笔记是自己反复琢磨用的。</p>

      
    </div>
    
      <div class="full-width auto-padding tags">
        
          <a href="/tags/ArcGIS/"><i class="fas fa-hashtag fa-fw"></i>ArcGIS</a>
        
          <a href="/tags/API/"><i class="fas fa-hashtag fa-fw"></i>API</a>
        
      </div>
    
  </section>
</article>

            </div>
          
        
          
            <div class="post-wrapper">
              <article class="post reveal ">
  
<section class="meta">
  
  
  <div class="meta" id="header-meta">
    
      <h2 class="title">
          <a href="/2019/04/07/ArcGIS-API-for-JavaScript入门教程-1-前戏/">
              
                  ArcGIS API for JavaScript入门教程(1)-前戏
              
          </a>
      </h2>
    

    <div class="new-meta-box">
      
        <div class="new-meta-item author">
          <a href="https://llqing.github.io">
            <i class="fas fa-user" aria-hidden="true"></i>
            LLQ
          </a>
        </div>
      
      
        <div class="new-meta-item date">
          <a class="notlink">
            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
            2019-04-07
          </a>
        </div>
      
      
        
          
          <div class="new-meta-item category">
            <a href="/categories/GIS/">
              <i class="fas fa-folder-open" aria-hidden="true"></i>
              GIS
            </a>
          </div>
        
      
      
      
    </div>
    <hr>
  </div>
</section>

  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      <blockquote>
<ul>
<li>-&gt;对于萌新，你可能需要了解一下这个东西是什么</li>
<li>-&gt;对于已经知道要用这个东西的开发者，你可能需要了解一下它的底层机制</li>
<li>不针对大牛。龟速更新ing.</li>
</ul>
</blockquote>
<h1 id="1-是什么【萌新别跳这一步】"><a href="#1-是什么【萌新别跳这一步】" class="headerlink" title="1. 是什么【萌新别跳这一步】"></a>1. 是什么【萌新别跳这一步】</h1><p><em>如果非萌新，可以跳过这一段文字。</em></p>
<p>想要知道ArcGIS API for JavaScript是什么，我大概用以下几条条目描述：</p>
<ul>
<li>是一个WebGIS二次开发（如果不知道什么是WebGIS请用搜索引擎···）的前端开发包，使用JavaScript语言</li>
<li>出自美国Esri公司</li>
<li>是Esri的ArcGIS Runtime SDK家族中的一员</li>
<li>它不是纯Js写的库</li>
</ul>
<p>能说明什么呢？</p>
<ol>
<li>它能制作在线地理信息系统平台，能做数据分析、空间分析、数据展示等；</li>
<li>歪果仁写的，英文资料多，虽然中文也有一定数量的资料（博客、书籍等），但是呢，由于Esri更新贼快，一年三四更的，中文资料不一定跟得上速度；</li>
<li>你可能需要学很多附属的东西，这个API很庞大、很笨重，入门门槛其实不高，但是深入难，前端上，你得知道造这个API的基础——Dojo框架，而Dojo框架由于历史渊源，又来自从属AMD（异步模块定义）规范的RequireJs，要想了解AMD，又不得不去看一些前端和后端的发展史，甚至不可避免要学一些基础的后端。</li>
</ol>
<p>如果你做好了这些准备，继续。</p>
<p>哦对了，这个API当前有两个大支线，一个是3.x版本，一个是4.x版本；</p>
<p>3.x版本已经很成熟，用于2D的WebGIS二次开发很完美，如果你用的是ArcGIS整套产品；</p>
<p>我重点讲一下类和模块经过重新构造、较为简单的4.x版本，因为它最大的特征是数据视图分离、支持3D，旗帜鲜明对接ArcGIS Pro.</p>
<h1 id="2-我必须学它吗？"><a href="#2-我必须学它吗？" class="headerlink" title="2. 我必须学它吗？"></a>2. 我必须学它吗？</h1><p>如果你的项目需求很大，大量用到空间分析、三维展示，频繁交互ArcGIS家族的产品（Server、ArcGIS Desktop等），请学；</p>
<p>如果你的项目需求比较小，也可以学，当然也可以有别的选择：</p>
<ul>
<li>开源解决方案：Openlayers/Leaflets替代JsAPI。</li>
</ul>
<p>Openlayers和Leaflets同样是WebGIS二次开发工具包，排名很靠前，二者区别是ol自己提供了封装好的功能模块，而lf则支持插件式，它的插件很多。他们都支持npm方式引入。</p>
<ul>
<li>当然，为了实现简单的三维GIS，Cesium了解一下；</li>
<li>如果只是3D数据展示，ThreeJs了解一下；</li>
<li>如果数据源缺乏，不想自己做数据服务，对WebGIS标准缺少耐心，可以试试高德地图API、百度地图API等。</li>
<li>如果想全开源，就目前而言3DGIS还是ArcGIS最强外，传统二维WebGIS可以用QGIS代替ArcGIS Desktop、用PostgreSQL代替Geodatabase、用GeoServer代替ArcGIS for Server。</li>
</ul>
<p>使用JsAPI最强大的特征就是真三维空间分析+无比强大的ArcTools工具箱了。</p>
<h1 id="3-学习此API需要些什么"><a href="#3-学习此API需要些什么" class="headerlink" title="3. 学习此API需要些什么"></a>3. 学习此API需要些什么</h1><p>熟练HTML 5的学习方式、熟练CSS 3的学习方式、能自我学习JavaScript，最好有一定的GIS基础知识、一定的数学知识。</p>
<p>我们在这里约定</p>
<p>ArcGIS API for JavaScript = jsapi/JsAPI/jsAPI…</p>
<p>你可能还要学习的是：</p>
<ul>
<li>NodeJs与npm（在4.7及3.24版本后可能要用npm下载）——作备选项，不学也无所谓</li>
<li>webpack——上面那俩如果你学了，这个肯定要学了。</li>
<li>英语</li>
</ul>
<p>对了，你不需要学怎么配置本地环境（就是说用官方的在线API进行学习就好了），我觉得那些东西网上太多了，查一下就行。有可能遇到跨域的问题，你也可以问搜索引擎，这里更关注的是“入门”而不是全面、细节，我需要把你快速带入门，之后看你的造化。</p>
<h1 id="4-它怎么来的"><a href="#4-它怎么来的" class="headerlink" title="4. 它怎么来的"></a>4. 它怎么来的</h1><p>它基于一个更复杂的前端框架，Dojo.js。</p>
<p>除了当前两条支线3.x和4.x，其实早些年还有过ArcGIS API for Sliverlight和ArcGIS API for Flex，当然他们已经退休了。</p>
<p>JavaScript那么火热，自然而然选他啦。</p>
<p>由于GIS数据模型的复杂性，和普通的Web信息系统不同，面向对象的机制更合适去描述GIS数据和GIS分析。当时，没有别的好选择，只能选Dojo，因为它支持许多符合WebGIS的特性，如异步操作、面向对象等。</p>
<p>现如今，基于Node的包管理模式的前端开发早已不是什么难事，甚至还冒出了MVVM框架的一大堆火热框架。老迈的Dojo框架不能很好地融入其中，这让人很无奈。</p>
<p>在JsAPI中，地图可以是一个模块，图层可以是一个模块，一个用于空间分析的“东西”也可以是一个模块。类似于桌面编程中的类、继承机制，AMD规范下的RequireJs就产生了。Dojo基于此，定制了一大批的有用模块，能做图表，能做页面，能读写DOM，能做动画，当然是你需要什么模块就调用什么模块，并不需要一次性全部加载。JsAPI基于Dojo，定制了各个方面的模块，从而向开发者提供了一套强大的WebGIS二次开发包。</p>
<p>——————————</p>
<p>好了，可以开始讲了。</p>
<p>哦对了，我学的也不深，请不要用教程二字绑架我，认为我什么都会，我也在学习，希望一起交流，一起进步。</p>

      
    </div>
    
      <div class="full-width auto-padding tags">
        
          <a href="/tags/ArcGIS/"><i class="fas fa-hashtag fa-fw"></i>ArcGIS</a>
        
          <a href="/tags/API/"><i class="fas fa-hashtag fa-fw"></i>API</a>
        
      </div>
    
  </section>
</article>

            </div>
          
        
          
            <div class="post-wrapper">
              <article class="post reveal ">
  
<section class="meta">
  
  
  <div class="meta" id="header-meta">
    
      <h2 class="title">
          <a href="/2019/03/30/杂谈WebGIS/">
              
                  开篇-杂谈WebGIS
              
          </a>
      </h2>
    

    <div class="new-meta-box">
      
        <div class="new-meta-item author">
          <a href="https://llqing.github.io">
            <i class="fas fa-user" aria-hidden="true"></i>
            LLQ
          </a>
        </div>
      
      
        <div class="new-meta-item date">
          <a class="notlink">
            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
            2019-03-30
          </a>
        </div>
      
      
        
          
          <div class="new-meta-item category">
            <a href="/categories/GIS/">
              <i class="fas fa-folder-open" aria-hidden="true"></i>
              GIS
            </a>
          </div>
        
      
      
      
    </div>
    <hr>
  </div>
</section>

  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      <h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1.前言"></a>1.前言</h2><p>我相信大家对百度地图，谷歌地图等相关应用已经是非常熟悉了。通过这些应用，我们可以浏览地图、定位我们自己的位置、查找我们想知道的兴趣点、搜索交通路线等等。而其实，这些功能便是WebGIS的一些最基本的功能。</p>
<p>那么什么是WebGIS呢，说到这里，我还是首先给大家讲讲什么是GIS。</p>
<h2 id="2．GIS简介"><a href="#2．GIS简介" class="headerlink" title="2．GIS简介"></a>2．GIS简介</h2><h3 id="2-1-GIS的名词解释"><a href="#2-1-GIS的名词解释" class="headerlink" title="2.1 GIS的名词解释"></a>2.1 GIS的名词解释</h3><p>GIS的全名是Geographic Information System，中文全名是地理信息系统。它是在计算机硬、软件系统支持下，对整个或部分地球表层（包括大气层）空间中的有关地理分布数据进行采集、储存、管理、运算、分析、显示和描述的技术系统。</p>
<h3 id="2-2-什么是GIS学科"><a href="#2-2-什么是GIS学科" class="headerlink" title="2.2 什么是GIS学科"></a>2.2 什么是GIS学科</h3><p>撇开这些晦涩的文字，我争取用更形象的方法来给大家介绍下GIS这个学科。</p>
<p>我们人类在很久之前就已经开始使用羊皮或者纸质的地图了，他的用途主要便是给人们的行军、航海等做向导，而这同样也是现代GIS学科里GIS最基本的功能之一。到19世纪时，现代GIS学科开始慢慢萌芽。这里有一个很有名的例子。1854年伦敦发生霍乱，10天就死了500人。居民大多怀疑瘟疫是由于地下的墓穴引起的，引起了极大的社会恐慌。当时有个有名的医生叫Snow博士，他不信这个原因，为了查出真正的霍乱源头，他首先绘出了伦敦地图，然后将所有霍乱病人的所在地标出来，然后他发现了一个有趣的现象，在伦敦的一个居民饮水井附近出现的霍乱病人最多，并且最开始出现的霍乱病人也是在那里发现的。最后Snow博士对那口井进行检查，确定了霍乱发生的源头。从这个例子中我们可以看出，地图的应用已经不再局限于导航了，而开始慢慢利用其得天独厚的时间空间优势与其他学科开始进行结合。</p>
<p>到了20世纪电脑的出现，人造卫星的升天等技术的突破，GIS这个学科也相应的开始走向成熟以及开始普及。20世纪60年代，加拿大科学家首先提出了GIS这个学科。到了20世纪末，一大批优秀的GIS软件已经出现，比如Esri公司的ArcGIS系列，MapInfo公司的MapInfo。国内的GIS从上世纪80年代才开始起步，不过到上世纪末时，也出现了自己的GIS公司，比较有名的有GeoStar、MapGIS等。</p>
<p>而此时的GIS已不再是局限纸上的地图了，它已经成为了一个计算机技术和多种学科相交叉的新型学科了。它涉及到测量学——地理信息的采集和地图的制作等，计算机科学——电子地图的制作和展现以及各种GIS功能的实现，物理学——对传感器的研究以及光谱和影像的研究，气象学——大气层等对卫星影像的影响等，生物学、医学、犯罪学等——研究地理等各时间空间因素对这些学科的影响。</p>
<p>GIS是什么呢，说的最通熟易懂的就是，GIS是利用测绘生成纸制地图或者航拍以及卫星等生成影像后，将这些数据存储在计算机中，以地图或图片的形式表现出来，然后根据实际生产生活以及科研中的各种需求，进而提供具体的经过处理后的数据。</p>
<h2 id="3-WebGIS简介"><a href="#3-WebGIS简介" class="headerlink" title="3.WebGIS简介"></a>3.WebGIS简介</h2><h3 id="3-1什么是WebGIS"><a href="#3-1什么是WebGIS" class="headerlink" title="3.1什么是WebGIS"></a>3.1什么是WebGIS</h3><p>顾名思义，WebGIS就是展现于网络上的GIS。在上世纪八十年开始，出现的大量GIS软件，基本上都是C/S架构的，也就是首先需要在本机上装有专业的GIS软件，然后用户根据需求使用这些GIS软件。当然这种桌面端的GIS软件有其天然的优势，比如开发相对简单，不需要Internet支持，以及可以做更多的复杂功能、响应相对迅速等优势。但是同时，其缺点更是不容忽视。首当其冲的便是不便于推广，而不便于推广的原因在于C/S系统其本身的天然的劣势：不便于更新，不便于跨平台，不便于用户在不安装指定客户端的情况下使用。</p>
<p>从本世纪开始，internet进入了爆发式增长阶段，网络的铺设以及网速的提升都有了大幅度增加，这为WebGIS的发展提供了坚实的大环境。于是，基于B/S的GIS系统越来越多的开始提供服务，并且在RIA（富客户端）技术、AJAX（动态网页）技术的涌现和成熟，WebGIS也基本能展现出与C/S一样的效果和功能。而WebGIS的大发展，更是用户的需求，google地图和百度地图等服务提供商的大规模扩张便是最好的证明。</p>
<p>什么是WebGIS，就是将GIS这门学科所能提供的功能，以B/S技术展现给用户，使用户只需要在浏览器上便能使用这些GIS功能的一个应用方向。</p>
<h3 id="3-2对国内WebGIS行业的理解"><a href="#3-2对国内WebGIS行业的理解" class="headerlink" title="3.2对国内WebGIS行业的理解"></a>3.2对国内WebGIS行业的理解</h3><p>目前使用WebGIS技术的公司可以大致分为两个方向：一个是互联网方向，一个是行业应用方向。</p>
<p>国内的互联网方向里基本可以说已经被百度地图，搜搜地图，高德地图，三个巨头垄断。所以对于想从事互联网方向的WebGIS开发人员，其实可以选择的大公司并不多。但是，如果你是一个技术足够好，且技术不局限于一般的关系数据库，对大数据和分布式系统感兴趣的WebGIS开发人员，强烈建议你去这些互联网公司，在那里你能接触到最新的IT技术以及感受到强大的头脑风暴。也便是，对新技术，对前沿方向有更多追求的人，去互联网公司是很好的选择。</p>
<p>但是我们不得不承认另外一个现实，这些互联网公司基本集中在北上广深，并且对GIS研发人员在技术上的需求是，计算机技术的比重要远大于对GIS学科本身的理论所占的比重。于是，更多的GIS学科出身的人，最后选择的是行业应用公司。而投身于这样的公司，就没有前途吗？答案是否定的。</p>
<p>Esri公司作为全球最成功的GIS软件公司，很好的给出了这个答案。目前Esri的AO库号称世界上第二大的库，除了微软的Framework，就是它了。它同时也是一个年盈利在8亿美元的公司。Esri公司与美国和加拿大政府的合作堪称行业公司的典范，它为这两个国家的数字化城市的建设立下了汗马功劳，做出了很多优秀的作品。说这个例子，只是为了表明，在我们的数字化城市的需求越来越深入，政府的需求越来越实际，整个国家的市场建设越来越合理以及公平公正透明，WebGIS在行业上的应用也将越来越广泛，并且越来越能够服务政府、企业和人民，并且更能做出有真实价值的产品。并且，从事行业应用的研发人员，随着对所从事行业理解的深入，这些理解给未来所带来的收获可能比技术单纯的提高所带来的收获要大得多。要知道，项目需求分析靠的基本是行业理解，当然，对技术的了解也给项目可行性分析提供了保障。两者相辅相成。</p>
<p>每个人追求不一样，根据自己的需求，根据自己的现状，做出选择，坚持下去，不说梦想是否能实现，起码你不会是一个自己都认为自己活该如此平庸的人。</p>
<h2 id="4-WebGIS的框架"><a href="#4-WebGIS的框架" class="headerlink" title="4.WebGIS的框架"></a>4.WebGIS的框架</h2><p>前面说了太多的非技术类的话，这里我们开始提一个技术类话题——WebGIS的框架。其实WebGIS的框架跟其他Web项目的框架没有很多本质上的区别。可能唯一的不同是WebGIS需要提供一些地图方面的功能服务。这里我先把这个框架给出，同时每个层面需要的技术我也在其中大致画出。</p>
<p>​                                    <img src="https://images0.cnblogs.com/i/656746/201408/021630108995466.png" alt="img">                    </p>
<p>​                                       </p>
<h3 id="4-1前端"><a href="#4-1前端" class="headerlink" title="4.1前端"></a>4.1前端</h3><p>如所有的Web项目一样，前端由HTML、CSS、JS、Flex等语言组成。根据需求和语言的特性，选择合适的语言进行开发是至关重要的。没有最好的语言，只有最合适的语言。</p>
<h3 id="4-2-后台程序"><a href="#4-2-后台程序" class="headerlink" title="4.2 后台程序"></a>4.2 后台程序</h3><h4 id="4-2-1-中间件"><a href="#4-2-1-中间件" class="headerlink" title="4.2.1 中间件"></a>4.2.1 中间件</h4><p>开发时，我们要选择适合自己的中间件。不同的中间件有其特性，如果是一般项目，tomcat等是很合适的，其使用方便，相关技术支持和资料也很好查找。但是如果是大型的集群项目，Weblogic和WebShpere可能是更好的选择，但是这两个中间件首先配置就是有难度的，同时不同的版本，可能对某些jar包的支持存在问题。如果项目必须使用国产的中间件，TongWeb和Apusics是不错的选择。</p>
<h4 id="4-2-2-地图服务器"><a href="#4-2-2-地图服务器" class="headerlink" title="4.2.2 地图服务器"></a>4.2.2 地图服务器</h4><p>在WebGIS中，与其他一般的Web工程有明显区别的就体现在地图服务器上面。一般的地图服务器都由已有的软件商提供了解决方案，比较流行的有AGS、Geoserver、MapServer、SuperServer等。利用这些地图服务器我们能很好的实现地图的发布以及对一些空间查询和空间操作的支持。</p>
<h4 id="4-2-3-业务服务器"><a href="#4-2-3-业务服务器" class="headerlink" title="4.2.3 业务服务器"></a>4.2.3 业务服务器</h4><p>业务服务器是Web项目里不可获取的一环。不管是利用哪些已有框架编写，比如Spring、Struts、Hibernate等，我们一般还是会将业务服务器的实现分为三个层次，即有名的MVC模式。而不同的框架里这三个层次的实现各有差别。</p>
<h3 id="4-3-数据"><a href="#4-3-数据" class="headerlink" title="4.3 数据"></a>4.3 数据</h3><p>WebGIS的数据大致可以分为三种，一种是地图、影像数据，一种是空间属性数据、一种是业务数据。地图、影像数据一般是一些png或者其他格式的数据组成。</p>
<p>在GIS中有个很重要的概念，即影像金字塔。这个概念主要是为了加速地图在前端的显示。而我们准备地图、影像数据时，也一般会首先对这些数据进行切图。</p>
<p>空间属性数据，是通过一些工具将已经整理好的数据进行入库。对于AGS，只有连接的是入库数据的mxd，才能发布成FeatureServer服务，以供数据的编辑。当然，空间数据入库后还可以支持业务逻辑的使用。</p>
<p>第三种数据，业务逻辑数据，是每个Web项目必须有的，它根据不同的业务需求将业务所需的数据进行采集和入库。</p>
<h2 id="5-从WebGIS的原理谈起"><a href="#5-从WebGIS的原理谈起" class="headerlink" title="5.从WebGIS的原理谈起"></a>5.从WebGIS的原理谈起</h2><p>目前很多公司都提供了自己的二次开发包，在前端的有OpenLayers、AGS API for JS/Flex等。在后台的也有geoTools、AO等。用这些开发包，我们可以很快的实现出图以及很多GIS功能，基本上不用写太多的编码。</p>
<p>但是，同样，由于封装的太好，很多WebGIS的原理我们也便忽略而不做了解了。</p>
<p>这里，我希望利用我薄弱的知识，能和大家一起，探讨一些WebGIS中常用的原理知识。希望大家支持。</p>
<h2 id="6-感想"><a href="#6-感想" class="headerlink" title="6.感想"></a>6.感想</h2><p>由于我薄弱的理论和技术基础，也谈不上对WebGIS的明天有很大的预言。我只希望我们每个人都争取做一个完美主义者，同时也是一个有圣徒情怀的人，从而作践自己实现目标。与大家一起进步。希望我也能保持自己的写作动力，积累经验和知识。</p>

      
    </div>
    
      <div class="full-width auto-padding tags">
        
          <a href="/tags/WebGIS/"><i class="fas fa-hashtag fa-fw"></i>WebGIS</a>
        
      </div>
    
  </section>
</article>

            </div>
          
        
          
            <div class="post-wrapper">
              <article class="post reveal ">
  
<section class="meta">
  
  
  <div class="meta" id="header-meta">
    
      <h2 class="title">
          <a href="/2019/03/18/arcpy开发&关于arcgis中的api arcpy.Describe/">
              
                  arcpy开发&关于arcgis中的api arcpy.Describe
              
          </a>
      </h2>
    

    <div class="new-meta-box">
      
        <div class="new-meta-item author">
          <a href="https://llqing.github.io">
            <i class="fas fa-user" aria-hidden="true"></i>
            LLQ
          </a>
        </div>
      
      
        <div class="new-meta-item date">
          <a class="notlink">
            <i class="fas fa-calendar-alt" aria-hidden="true"></i>
            2019-03-18
          </a>
        </div>
      
      
        
          
          <div class="new-meta-item category">
            <a href="/categories/GIS/">
              <i class="fas fa-folder-open" aria-hidden="true"></i>
              GIS
            </a>
          </div>
        
      
      
      
    </div>
    <hr>
  </div>
</section>

  <section class="article typo">
    <div class="article-entry" itemprop="articleBody">
      <p>今天在学习关于工作空间相关知识，用于了下面的函数来实现判断当前输入的要素参数在哪个工作空间。其中主要运用到了arcpy.Describe函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_workspace</span><span class="params">(featureClass)</span>:</span></span><br><span class="line"> 	catalogPath = os.path.dirname(featureClass.catalogPath)</span><br><span class="line">    <span class="keyword">if</span> arcpy.Describe(catalogPath).dataType == <span class="string">'FeatureDataset'</span>:</span><br><span class="line">        arcpy.env.workspace = arcpy.Describe(catalogPath).path</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        arcpy.env.workspace = featureClass.path</span><br><span class="line">    <span class="keyword">return</span> arcpy.env.workspace</span><br></pre></td></tr></table></figure>
<p>研究罢了，调试时查阅了Describe相关的参数，于是来看一下esri官方的参考文档，如下所说关于describe的种种：</p>
<p>Describe 函数返回的 Describe 对象包含多个属性，如数据类型、字段、索引以及许多其他属性。该对象的属性是动态的，这意味着根据所描述的数据类型，会有不同的描述属性可供使用。</p>
<p>Describe 属性被组织成一系列属性组。任何特定数据集都将至少获取其中一个组的属性。例如，如果要描述一个地理数据库要素类，您可访问 GDB 要素类、要素类、表和数据集属性组中的属性。所有数据，不管是哪种数据类型，总会获取通用 Describe 对象属性。</p>
<p>好了，说了这么多。我其实想说的是，可以使用describe查看数据的相关信息。比如shapeType、dataType、catalogPath、spatialReference等等相关信息。我们来看一下下面这一段代码。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">input_fc = <span class="string">'D:/Data/中国国界和省界的SHP格式数据/省界/bou2_4p.shp'</span></span><br><span class="line">desc = arcpy.Describe(input_fc)</span><br><span class="line">catalogPath = os.path.dirname(desc.catalogPath)</span><br><span class="line">dataType=arcpy.Describe(catalogPath).dataType</span><br><span class="line">dataType2=desc.dataType</span><br></pre></td></tr></table></figure>
<p>现在我们把pycharm断点打开，一一窥探该函数会给我们带来什么样的信息。具体如下图所示。</p>
<p><img src="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\1552917456413.png" alt="1552917456413"></p>
<p>好了，关于describe的学习就到处为此了。</p>

      
    </div>
    
      <div class="full-width auto-padding tags">
        
          <a href="/tags/GIS-arcpy-python/"><i class="fas fa-hashtag fa-fw"></i>GIS; arcpy; python;</a>
        
      </div>
    
  </section>
</article>

            </div>
          
        
      

  </section>






  

  <!-- 根据主题中的设置决定是否在archive中针对摘要部分的MathJax公式加载mathjax.js文件 -->
  

  




        </div>
        <aside class='l_side'>
            
  
  
    
      
      
        <section class="author">
  <div class="content material">
    
      <div class="avatar">
        <img class="avatar" src="/medias/avatar.jpg">
      </div>
    
    
      <div class="text">
        
        
        
          <p><span id="jinrishici-sentence">柳暗花明又一村</span></p>
          <script src="https://sdk.jinrishici.com/v2/browser/jinrishici.js" charset="utf-8"></script>
        
      </div>
    
    
      <div class="social-wrapper">
        
          
            <a href="mailto:zailushanga@gmail.com" class="social flat-btn" target="_blank" rel="external"><i class="social fas fa-envelope" aria-hidden="true"></i></a>
          
        
          
            <a href="https://github.com/llqing" class="social flat-btn" target="_blank" rel="external"><i class="social fab fa-github" aria-hidden="true"></i></a>
          
        
          
            <a href="https://music.163.com/#/user/home?id=1409711765" class="social flat-btn" target="_blank" rel="external"><i class="social fas fa-music" aria-hidden="true"></i></a>
          
        
      </div>
    
  </div>
</section>

      
    
  
    
      
      
        

      
    
  
    
      
      
        <section class="plain">
  
<header class="material">
  <div><i class="fas fa-bullhorn fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;注意啦～</div>
  
</header>

  <div class="content material">
    <p>小站栏目还在完善中，将不定期分享GIS、Code等内容(看博主心情)，如有特殊需要可以联系博主，超喜欢的话还可以安利给身边的朋友哦～</p>

  </div>
</section>

      
    
  
    
      
      
        
  <section class="category">
    
<header class="material">
  <div><i class="fas fa-folder-open fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;所有分类</div>
  
</header>

    <div class="content material">
      <ul class="entry">
        
          <li><a class="flat-box" title="/categories/AI/" href="/categories/AI/"><div class="name">AI</div><div class="badge">(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Blog/" href="/categories/Blog/"><div class="name">Blog</div><div class="badge">(3)</div></a></li>
        
          <li><a class="flat-box" title="/categories/GIS/" href="/categories/GIS/"><div class="name">GIS</div><div class="badge">(5)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Git/" href="/categories/Git/"><div class="name">Git</div><div class="badge">(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/LaTeX/" href="/categories/LaTeX/"><div class="name">LaTeX</div><div class="badge">(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Linux/" href="/categories/Linux/"><div class="name">Linux</div><div class="badge">(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/Python/" href="/categories/Python/"><div class="name">Python</div><div class="badge">(4)</div></a></li>
        
          <li><a class="flat-box" title="/categories/web基础/" href="/categories/web基础/"><div class="name">web基础</div><div class="badge">(4)</div></a></li>
        
          <li><a class="flat-box" title="/categories/好玩的/" href="/categories/好玩的/"><div class="name">好玩的</div><div class="badge">(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/常用工具/" href="/categories/常用工具/"><div class="name">常用工具</div><div class="badge">(3)</div></a></li>
        
          <li><a class="flat-box" title="/categories/数据库/" href="/categories/数据库/"><div class="name">数据库</div><div class="badge">(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/数据结构与算法/" href="/categories/数据结构与算法/"><div class="name">数据结构与算法</div><div class="badge">(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/杂谈/" href="/categories/杂谈/"><div class="name">杂谈</div><div class="badge">(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/脚本/" href="/categories/脚本/"><div class="name">脚本</div><div class="badge">(1)</div></a></li>
        
          <li><a class="flat-box" title="/categories/高数/" href="/categories/高数/"><div class="name">高数</div><div class="badge">(1)</div></a></li>
        
      </ul>
    </div>
  </section>


      
    
  
    
      
      
        
  <section class="tagcloud">
    
<header class="material">
  <div><i class="fas fa-hashtag fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;热门标签</div>
  
</header>

    <div class="content material">
      <a href="/tags/AI/" style="font-size: 14px; color: #999">AI</a> <a href="/tags/API/" style="font-size: 24px; color: #555">API</a> <a href="/tags/ArcGIS/" style="font-size: 24px; color: #555">ArcGIS</a> <a href="/tags/GIS-arcpy-python/" style="font-size: 14px; color: #999">GIS; arcpy; python;</a> <a href="/tags/HTTP/" style="font-size: 14px; color: #999">HTTP</a> <a href="/tags/HTTPS/" style="font-size: 14px; color: #999">HTTPS</a> <a href="/tags/LaTeX/" style="font-size: 14px; color: #999">LaTeX</a> <a href="/tags/Markdown/" style="font-size: 24px; color: #555">Markdown</a> <a href="/tags/Matplotlib/" style="font-size: 14px; color: #999">Matplotlib</a> <a href="/tags/NoSQL/" style="font-size: 14px; color: #999">NoSQL</a> <a href="/tags/Python/" style="font-size: 14px; color: #999">Python</a> <a href="/tags/Redis/" style="font-size: 14px; color: #999">Redis</a> <a href="/tags/TCP/" style="font-size: 19px; color: #777">TCP</a> <a href="/tags/WebGIS/" style="font-size: 14px; color: #999">WebGIS</a> <a href="/tags/git-版本库/" style="font-size: 14px; color: #999">git; 版本库</a> <a href="/tags/hexo/" style="font-size: 14px; color: #999">hexo</a> <a href="/tags/linux/" style="font-size: 14px; color: #999">linux</a> <a href="/tags/music/" style="font-size: 14px; color: #999">music</a> <a href="/tags/typora/" style="font-size: 14px; color: #999">typora</a> <a href="/tags/中文显示乱码/" style="font-size: 14px; color: #999">中文显示乱码</a> <a href="/tags/如何开发用户脚本/" style="font-size: 14px; color: #999">如何开发用户脚本</a> <a href="/tags/导数/" style="font-size: 14px; color: #999">导数</a> <a href="/tags/属性/" style="font-size: 14px; color: #999">属性</a> <a href="/tags/排序/" style="font-size: 14px; color: #999">排序</a> <a href="/tags/撩妹/" style="font-size: 14px; color: #999">撩妹</a> <a href="/tags/方法/" style="font-size: 14px; color: #999">方法</a> <a href="/tags/极限/" style="font-size: 14px; color: #999">极限</a> <a href="/tags/激活/" style="font-size: 14px; color: #999">激活</a> <a href="/tags/算法/" style="font-size: 14px; color: #999">算法</a> <a href="/tags/网易/" style="font-size: 14px; color: #999">网易</a> <a href="/tags/重装系统/" style="font-size: 14px; color: #999">重装系统</a>
    </div>
  </section>


      
    
  
    
      
      
        <section class="list">
  
<header class="material">
  <div><i class="fas fa-medal fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;精选项目</div>
  
</header>

  <div class="content material">
    <ul class="entry">
      
    </ul>
  </div>
</section>

      
    
  
    
      
      
        <section class="list">
  
<header class="material">
  <div><i class="fas fa-link fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;特别链接</div>
  
</header>

  <div class="content material">
    <ul class="entry">
      
        <li><a class="flat-box" title="https://llqing.github.io/about/" href="https://llqing.github.io/about/">
          <div class="name">
            
              <i class="fas fa-comment-dots fa-fw" aria-hidden="true"></i>
            
            &nbsp;&nbsp;关于我 / 留言板
          </div>
          
        </a></li>
      
    </ul>
  </div>
</section>

      
    
  
    
      
      
        


  <section class="music">
    
<header class="material">
  <div><i class="fas fa-compact-disc fa-fw" aria-hidden="true"></i>&nbsp;&nbsp;最近在听</div>
  
    <a class="rightBtn" target="_blank" rel="external nofollow noopener noreferrer" href="https://music.163.com/#/user/home?id=1409711765" title="https://music.163.com/#/user/home?id=1409711765">
    <i class="far fa-heart fa-fw"></i></a>
  
</header>

    <div class="content material">
      
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.css">
  <div class="aplayer" data-theme="#1BCDFC" data-mode="circulation" data-server="netease" data-type="playlist" data-id="1409711765" data-volume="0.7">
  </div>
  <script src="https://cdn.jsdelivr.net/npm/aplayer@1.7.0/dist/APlayer.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/meting@1.1.0/dist/Meting.min.js"></script>


    </div>
  </section>


      
    
  


        </aside>
        <script>setLoadingBarProgress(60);</script>
    </div>
    <a class="s-top fas fa-arrow-up fa-fw" href='javascript:void(0)'></a>
    </div>
    <footer id="footer" class="clearfix">
  
    <div class="footer">
      <p>这里是页脚，谢谢支持。</p>

    </div>
    <br>
  
  
    <div class="social-wrapper">
      
        
          <a href="mailto:zailushanga@gmail.com" class="social fas fa-envelope flat-btn" target="_blank" rel="external"></a>
        
      
        
          <a href="https://github.com/llqing" class="social fab fa-github flat-btn" target="_blank" rel="external"></a>
        
      
        
          <a href="https://music.163.com/#/user/home?id=1409711765" class="social fas fa-music flat-btn" target="_blank" rel="external"></a>
        
      
    </div>
  
  <br>
  <div><p>博客内容遵循 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0) 协议</a></p>
</div>
  <div>本站使用 <a href target="_blank" class="codename">Material X</a> 作为主题，总访问量为 <span id="busuanzi_value_site_pv"><i class="fas fa-spinner fa-spin fa-fw" aria-hidden="true"></i></span> 次。
  </div>
</footer>

    <script>setLoadingBarProgress(80);</script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js"></script>

  <script>
    var GOOGLE_CUSTOM_SEARCH_API_KEY = "";
    var GOOGLE_CUSTOM_SEARCH_ENGINE_ID = "";
    var ALGOLIA_API_KEY = "";
    var ALGOLIA_APP_ID = "";
    var ALGOLIA_INDEX_NAME = "";
    var AZURE_SERVICE_NAME = "";
    var AZURE_INDEX_NAME = "";
    var AZURE_QUERY_KEY = "";
    var BAIDU_API_ID = "";
    var SEARCH_SERVICE = "hexo" || "hexo";
    var ROOT = "/"||"/";
    if(!ROOT.endsWith('/'))ROOT += '/';
  </script>



  <script async src="https://cdn.jsdelivr.net/npm/scrollreveal@4.0.5/dist/scrollreveal.min.js"></script>
  <script type="text/javascript">
    $(function() {
      const $reveal = $('.reveal');
      if ($reveal.length === 0) return;
      const sr = ScrollReveal({ distance: 0 });
      sr.reveal('.reveal');
    });
  </script>


  <script src="https://cdn.jsdelivr.net/npm/node-waves@0.7.6/dist/waves.min.js"></script>
  <script type="text/javascript">
    $(function() {
      Waves.attach('.flat-btn', ['waves-button']);
      Waves.attach('.float-btn', ['waves-button', 'waves-float']);
      Waves.attach('.float-btn-light', ['waves-button', 'waves-float', 'waves-light']);
      Waves.attach('.flat-box', ['waves-block']);
      Waves.attach('.float-box', ['waves-block', 'waves-float']);
      Waves.attach('.waves-image');
      Waves.init();
    });
  </script>


  <script async src="https://cdn.jsdelivr.net/gh/xaoxuu/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js"></script>


  <!-- fastclick -->
  <script src="https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      FastClick.attach(document.body)
    }, false)
  </script>










  <script src="/js/app.js"></script>
<script src="/js/search.js"></script>





<!-- 复制 -->
<script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js"></script>
<script>
  let COPY_SUCCESS = "复制成功";
  let COPY_FAILURE = "复制失败";
  /*页面载入完成后，创建复制按钮*/
  !function (e, t, a) {
    /* code */
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '  <i class="fa fa-copy"></i><span>Copy</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });

      clipboard.on('success', function(e) {
        //您可以加入成功提示
        console.info('Action:', e.action);
        console.info('Text:', e.text);
        console.info('Trigger:', e.trigger);
        success_prompt(COPY_SUCCESS);
        e.clearSelection();
      });
      clipboard.on('error', function(e) {
        //您可以加入失败提示
        console.error('Action:', e.action);
        console.error('Trigger:', e.trigger);
        fail_prompt(COPY_FAILURE);
      });
    }
    initCopyCode();

  }(window, document);

  /**
   * 弹出式提示框，默认1.5秒自动消失
   * @param message 提示信息
   * @param style 提示样式，有alert-success、alert-danger、alert-warning、alert-info
   * @param time 消失时间
   */
  var prompt = function (message, style, time)
  {
      style = (style === undefined) ? 'alert-success' : style;
      time = (time === undefined) ? 1500 : time*1000;
      $('<div>')
          .appendTo('body')
          .addClass('alert ' + style)
          .html(message)
          .show()
          .delay(time)
          .fadeOut();
  };

  // 成功提示
  var success_prompt = function(message, time)
  {
      prompt(message, 'alert-success', time);
  };

  // 失败提示
  var fail_prompt = function(message, time)
  {
      prompt(message, 'alert-danger', time);
  };

  // 提醒
  var warning_prompt = function(message, time)
  {
      prompt(message, 'alert-warning', time);
  };

  // 信息提示
  var info_prompt = function(message, time)
  {
      prompt(message, 'alert-info', time);
  };

</script>


<!-- fancybox -->
<script src="https://cdn.jsdelivr.net/gh/fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>
<script>
  let LAZY_LOAD_IMAGE = "";
  $(".article-entry").find("img").each(function () {
      var element = document.createElement("a");
      $(element).attr("data-fancybox", "gallery");
      $(element).attr("href", $(this).attr("src"));
      /* 图片采用懒加载处理时,
       * 一般图片标签内会有个属性名来存放图片的真实地址，比如 data-original,
       * 那么此处将原本的属性名src替换为对应属性名data-original,
       * 修改如下
       */
       if (LAZY_LOAD_IMAGE) {
         $(element).attr("href", $(this).attr("data-original"));
       }
      $(this).wrap(element);
  });
</script>





    <script>setLoadingBarProgress(100);</script>
</body>
</html>
